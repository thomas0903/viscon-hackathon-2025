/* ===== Overlay ===== */
.search-overlay {
  position: fixed;
  inset: 0;
  background: rgba(2, 6, 23, 0.55); /* slate-950/55 */
  backdrop-filter: blur(2px);
  -webkit-backdrop-filter: blur(2px);
  z-index: 1000;
  animation: overlayIn 200ms ease-out both;
}

@keyframes overlayIn { from { opacity: 0; } to { opacity: 1; } }
@keyframes overlayOut { from { opacity: 1; } to { opacity: 0; } }

/* When closing, fade the overlay out */
.search-overlay.is-closing { animation: overlayOut 200ms ease-in both; }

/* ===== Panel (Right Drawer) ===== */
.search-panel {
  position: fixed;
  top: 0;
  right: 0;
  height: 100vh;
  width: min(520px, 92vw);
  background: var(--color-surface);
  border-left: 1px solid var(--color-border);
  box-shadow: -8px 0 32px var(--color-card-shadow);
  display: flex;
  flex-direction: column;
  border-top-left-radius: 12px;
  border-bottom-left-radius: 12px;
  overflow: hidden;
  animation: drawerIn 280ms cubic-bezier(.22,.61,.36,1) both;
}

@keyframes drawerIn {
  from { transform: translateX(16px); opacity: 0; }
  to   { transform: translateX(0);    opacity: 1; }
}
@keyframes drawerOut { from { transform: translateX(0); opacity: 1; } to { transform: translateX(16px); opacity: 0; } }

/* When closing, slide the panel out */
.search-overlay.is-closing .search-panel { animation: drawerOut 280ms cubic-bezier(.22,.61,.36,1) both; }


@keyframes drawerIn {
  from { transform: translateX(16px); opacity: 0; }
  to   { transform: translateX(0);    opacity: 1; }
}

/* ===== Header ===== */
.search-panel__header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 16px 18px;
  border-bottom: 1px solid var(--color-border);
}

.search-panel__title {
  margin: 0;
  font-size: 1.25rem;
  font-weight: 700;
  color: var(--color-text);
}

.search-panel__close {
  appearance: none;
  background: transparent;
  border: 1px solid var(--color-border);
  border-radius: 10px;
  width: 32px;
  height: 32px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  font-size: 20px;
  line-height: 1;
  color: var(--color-text);
  cursor: pointer;
  transition: background-color 160ms ease, box-shadow 160ms ease, transform 160ms ease;
}
.search-panel__close:hover { background: var(--color-muted-bg); box-shadow: 0 4px 12px var(--color-card-shadow); transform: translateY(-1px); }
.search-panel__close:active { transform: translateY(0); }

/* ===== Controls (Search Bar) ===== */
.search-panel__controls { padding: 14px 18px; border-bottom: 1px solid var(--color-border); }

.search-input { position: relative; }

.search-input__icon {
  position: absolute;
  top: 50%;
  left: 12px;
  transform: translateY(-50%);
  opacity: 0.85;
  pointer-events: none;
}

.search-input__field {
  width: 100%;
  padding: 0.7rem 0.9rem 0.7rem 2.2rem; /* room for icon */
  border-radius: 12px;
  border: 1px solid var(--color-border);
  background: var(--color-surface);
  color: var(--color-text);
  outline: none;
  transition: box-shadow 180ms ease, border-color 180ms ease, background-color 180ms ease;
}
.search-input__field::placeholder { color: var(--color-text-muted); }
.search-input__field:focus-visible { border-color: var(--color-accent-strong); box-shadow: 0 0 0 3px var(--color-ring); background: var(--color-surface); }

/* ===== Body / Results ===== */
.search-panel__body { flex: 1; overflow: auto; padding: 10px 12px 16px; }

.search-results { list-style: none; margin: 0; padding: 0; display: grid; gap: 10px; }

.search-result {
  display: grid;
  grid-template-columns: 40px 1fr auto;
  align-items: center;
  gap: 10px;
  padding: 10px 12px;
  border-radius: 12px;
  border: 1px solid var(--color-border);
  background: var(--color-surface);
  transition: box-shadow 160ms ease, transform 160ms ease, border-color 160ms ease, background-color 160ms ease;
}
.search-result:hover { transform: translateY(-1px); box-shadow: 0 8px 22px var(--color-card-shadow); border-color: var(--color-border-strong); background: var(--color-muted-bg); }

.search-result__avatar { width: 40px; height: 40px; border-radius: 50%; object-fit: cover; border: 1px solid var(--color-border); }

.search-result__meta { min-width: 0; }
.search-result__name { font-weight: 700; color: var(--color-text); }
.search-result__desc { color: var(--color-text-muted); font-size: 0.92rem; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }

.search-result__action {
  appearance: none;
  background: var(--color-accent);
  color: #ffffff;
  border: 1px solid var(--color-accent-strong);
  border-radius: 10px;
  padding: 0.45rem 0.7rem;
  font-weight: 600;
  cursor: pointer;
  transition: transform 130ms ease, box-shadow 130ms ease, background-color 130ms ease;
}
.search-result__action:hover { transform: translateY(-1px); box-shadow: 0 6px 16px var(--color-card-shadow); }
.search-result__action:active { transform: translateY(0); }

/* ===== Empty / Helper states ===== */
.search-empty, .search-helper {
  display: grid;
  place-items: center;
  gap: 6px;
  padding: 32px 12px;
  color: var(--color-text-muted);
}
.search-empty__icon { font-size: 1.6rem; }
.search-empty__title { font-weight: 700; color: var(--color-text); }
.search-empty__hint, .search-helper__hint { font-size: 0.95rem; color: var(--color-text-muted); }

/* ===== Responsive ===== */
@media (max-width: 520px) {
  .search-panel { width: 100vw; border-radius: 0; }
}
